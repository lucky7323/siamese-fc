%load all jpg files in the folder
img_files = dir([video_path '*.jpg']);
assert(~isempty(img_files), 'No image files to load.')
img_files = sort({img_files.name});

%eliminate frame 0 if it exists, since frames should only start at 1
img_files(strcmp('00000000.jpg', img_files)) = [];
img_files = strcat(video_path, img_files);

% read all frames at once
imgs = vl_imreadjpeg(img_files,'numThreads', 12);

%For Siamese-CNN
startup;
params.video = 'test_1030';
params.visualization = 1;
params.gpus = 1;

%
numImg=length(imgs);    
for i=1:numImg
    if mod(i,3)==1
        a=faster_rcnn(imgs(i));
    else
        setting
        tracker(params);   
    end
end
%    seq={
%     'test_1030'
%   };
%    for s=1:numel(seq)   
%        bb = run_tracker(seq{s}, visualization);
%    end
    